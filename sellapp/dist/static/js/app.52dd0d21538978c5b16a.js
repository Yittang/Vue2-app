webpackJsonp([1],{"8U+Q":function(s,t){},AU1M:function(s,t){},EZEz:function(s,t){},NHnr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),i=e("woOf"),r=e.n(i),l={props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var s=[],t=Math.floor(2*this.score)/2,e=t%1!=0,a=Math.floor(t),i=0;i<a;i++)s.push("on");for(e&&s.push("half");s.length<5;)s.push("off");return s}}},n={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"star",class:s.starType},s._l(s.itemClasses,function(s){return e("span",{staticClass:"star-item",class:s})}))},staticRenderFns:[]};var o=e("VU/8")(l,n,!1,function(s){e("lKPr")},null,null).exports,c={props:{seller:{type:Object}},data:function(){return{modalShow:!1}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},methods:{showModal:function(){this.modalShow=!0},hideModal:function(){this.modalShow=!1}},components:{star:o}},p={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"header"}},[e("div",{staticClass:"merchant"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:s.seller.avatar,alt:"头像",width:"64",height:"64"}})]),s._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"brand"}),s._v(" "),e("span",{staticClass:"name"},[s._v(s._s(s.seller.name))]),s._v(" "),e("p",{staticClass:"description"},[s._v("\n\t\t\t\t"+s._s(s.seller.description)+" / "+s._s(s.seller.deliveryTime)+"送达\n\t\t\t")]),s._v(" "),s.seller.supports?e("div",{staticClass:"support"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[0].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[0].description))])]):s._e()]),s._v(" "),s.seller.supports?e("div",{staticClass:"support-count",on:{click:s.showModal}},[e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports.length)+"个")]),s._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"})]):s._e()]),s._v(" "),e("div",{staticClass:"bulletin",on:{click:s.showModal}},[e("span",{staticClass:"icon"}),e("span",{staticClass:"text"},[s._v(s._s(s.seller.bulletin))]),s._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"})]),s._v(" "),e("div",{staticClass:"background-img"},[e("img",{attrs:{src:s.seller.avatar,alt:"背景",width:"100%",height:"100%"}})]),s._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.modalShow,expression:"modalShow"}],staticClass:"modal"},[e("div",{staticClass:"main clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[s._v(s._s(s.seller.name))]),s._v(" "),e("star",{attrs:{size:48,score:s.seller.score}}),s._v(" "),e("div",{staticClass:"title"},[e("span",{staticClass:"text"},[s._v("优惠信息")])]),s._v(" "),s.seller.supports?e("ul",{staticClass:"supports"},s._l(s.seller.supports,function(t,a){return e("li",{staticClass:"support-item"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[a].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[a].description))])])})):s._e(),s._v(" "),e("div",{staticClass:"title"},[e("span",{staticClass:"text"},[s._v("商家公告")])]),s._v(" "),e("div",{staticClass:"description"},[e("p",[s._v(s._s(s.seller.bulletin))])])],1)]),s._v(" "),e("div",{staticClass:"modal-close",on:{click:s.hideModal}},[e("i",{staticClass:"icon-close"})])])])],1)},staticRenderFns:[]};var d={name:"App",data:function(){return{seller:{}}},created:function(){0===response.errno&&(this.seller=r()({},this.seller,response.data))},components:{"v-header":e("VU/8")(c,p,!1,function(s){e("u84I")},null,null).exports}},u={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:s.seller}}),s._v(" "),e("div",{staticClass:"tab"},[e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/goods"}},[s._v("商品")])],1),s._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/ratings"}},[s._v("评论")])],1),s._v(" "),e("div",{staticClass:"tab-item"},[e("router-link",{attrs:{to:"/seller"}},[s._v("商家")])],1)]),s._v(" "),e("router-view",{attrs:{seller:s.seller}})],1)},staticRenderFns:[]};var v=e("VU/8")(d,u,!1,function(s){e("SV/u")},null,null).exports,_=e("zO6J"),h=e("l8oT"),f={props:{deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0}}},m={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content"},[e("div",{staticClass:"content-left"},[s._m(0),s._v(" "),e("div",{staticClass:"price"},[s._v("￥0")]),s._v(" "),e("div",{staticClass:"desc"},[s._v("另需配送费￥"+s._s(s.deliveryPrice)+"元")])]),s._v(" "),e("div",{staticClass:"content-right"},[e("div",{staticClass:"pay"},[s._v("\n\t\t\t\t￥"+s._s(s.minPrice)+"起送\n\t\t\t")])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"logo-wrapper"},[t("div",{staticClass:"logo"},[t("i",{staticClass:"icon-shopping_cart"})])])}]};var C=e("VU/8")(f,m,!1,function(s){e("EZEz")},null,null).exports,g={props:{seller:{type:Object}},data:function(){return{goods:[],listHeight:[],scrollY:0}},computed:{currentIndex:function(){for(var s=0;s<this.listHeight.length;s++){var t=this.listHeight[s],e=this.listHeight[s+1];if(!e||this.scrollY>=t&&this.scrollY<e)return s}return 0}},created:function(){var s=this;this.classMap=["decrease","discount","special","invoice","guarantee"],0===response.errno&&(this.goods=response.data,this.$nextTick(function(){s._initScroll(),s._calculateHeight()}))},methods:{_initScroll:function(){var s=this;this.menuScroll=new h.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new h.a(this.$refs.foodsWrapper,{probeType:3}),this.foodsScroll.on("scroll",function(t){s.scrollY=Math.abs(Math.round(t.y))})},_calculateHeight:function(){var s=this.$refs.foodsWrapper.querySelectorAll(".food-list-hook"),t=0;this.listHeight.push(t);for(var e=0;e<s.length;e++){t+=s[e].clientHeight,this.listHeight.push(t)}},selectMenu:function(s){var t=this.$refs.foodsWrapper.querySelectorAll(".food-list-hook")[s];this.foodsScroll.scrollToElement(t,300)}},components:{shopcart:C}},w={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"wrapper"},[e("div",{ref:"menuWrapper",staticClass:"menu"},[e("ul",s._l(s.goods,function(t,a){return e("li",{staticClass:"menu-item",class:{current:s.currentIndex===a},on:{click:function(t){s.selectMenu(a)}}},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.type>0,expression:"item.type>0"}],staticClass:"icon",class:s.classMap[t.type]}),s._v(s._s(t.name))])])}))]),s._v(" "),e("div",{ref:"foodsWrapper",staticClass:"food"},[e("ul",s._l(s.goods,function(t){return e("li",{staticClass:"food-list food-list-hook"},[e("h1",{staticClass:"title"},[s._v(s._s(t.name))]),s._v(" "),e("ul",s._l(t.foods,function(t){return e("li",{staticClass:"food-item"},[e("div",{staticClass:"icon"},[e("img",{attrs:{width:"57",height:"57",src:t.icon,alt:""}})]),s._v(" "),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[s._v(s._s(t.name))]),s._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.description,expression:"food.description"}],staticClass:"desc"},[s._v(s._s(t.description))]),s._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[s._v("月售"+s._s(t.sellCount)+"份")]),s._v(" "),e("span",[s._v("好评率"+s._s(t.rating)+"%")])]),s._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[s._v("￥"+s._s(t.price))]),s._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[s._v("￥"+s._s(t.oldPrice))])])])])}))])}))]),s._v(" "),e("shopcart",{attrs:{"delivery-price":s.seller.deliveryPrice,"min-price":s.seller.minPrice}})],1)},staticRenderFns:[]};var y=e("VU/8")(g,w,!1,function(s){e("AU1M")},"data-v-cf5e88ec",null).exports,x={render:function(){var s=this.$createElement;return(this._self._c||s)("div",[this._v("I am ratings")])},staticRenderFns:[]};var b=e("VU/8")({},x,!1,function(s){e("8U+Q")},null,null).exports,M={render:function(){var s=this.$createElement;return(this._self._c||s)("div",[this._v("I am seller")])},staticRenderFns:[]};var k=e("VU/8")({},M,!1,function(s){e("aHde")},null,null).exports;a.a.use(_.a);var S=new _.a({linkActiveClass:"active",mode:"history",routes:[{path:"/",component:y},{path:"/goods",name:"goods",component:y},{path:"/ratings",name:"ratings",component:b},{path:"/seller",name:"seller",component:k}]}),$=e("2sCs"),E=e.n($);e("dNpK");a.a.config.productionTip=!1,a.a.prototype.$axios=E.a,new a.a({el:"#app",router:S,components:{App:v},template:"<App/>"})},"SV/u":function(s,t){},aHde:function(s,t){},dNpK:function(s,t){},lKPr:function(s,t){},u84I:function(s,t){}},["NHnr"]);